(this["webpackJsonpsoftvision-challenge-2021"]=this["webpackJsonpsoftvision-challenge-2021"]||[]).push([[0],[,,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":"goncy","name":"Gonzalo Pozzo","step":"Entrevista t\xe9cnica","comments":"Medio pelo"},{"id":"doe","name":"John Doe","step":"Entrevista inicial","comments":""}]')},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,c=n(2),i=n.n(c),s=n(9),d=n.n(s),o=n(3),r=n(6),l=n(1);!function(e){e.ADD="ADD - CANDIDATE",e.UPDATE="UPDATE - CANDIDATE",e.SET_ALL="SET ALL- CANDIDATES"}(a||(a={}));var j=["Entrevista inicial","Entrevista t\xe9cnica","Oferta","Asignaci\xf3n","Rechazo"],u=(n(15),n(0)),b=function(e){var t=e.closeModal,n=e.children;return Object(u.jsx)("div",{id:"container",className:"modal",onClick:t,children:Object(u.jsx)("div",{onClick:function(e){e.stopPropagation()},children:n})})},m=n(10),p={list:function(){return Promise.resolve(m)}},O=n(8),h=function(e,t){switch(t.type){case a.ADD:return Object(l.a)(Object(l.a)({},e),{},{candidatesList:[].concat(Object(O.a)(e.candidatesList),[t.payload])});case a.UPDATE:return Object(l.a)(Object(l.a)({},e),{},{candidatesList:Object(O.a)(e.candidatesList.map((function(e){return e.id===t.payload.id?Object(l.a)(Object(l.a)({},e),{},{step:t.payload.nextStep}):e})))});case a.SET_ALL:return Object(l.a)(Object(l.a)({},e),{},{candidatesList:t.payload});default:return e}},v=Object(c.createContext)({}),f=function(e){var t=e.children,n=Object(c.useReducer)(h,{candidatesList:JSON.parse(window.localStorage.getItem("candidatesList"))||[]}),i=Object(o.a)(n,2),s=i[0],d=i[1];Object(c.useEffect)((function(){p.list().then((function(e){0===s.candidatesList.length&&d({type:a.SET_ALL,payload:e})})),window.localStorage.setItem("candidatesList",JSON.stringify(s.candidatesList))}),[s,d]);var r={candidatesState:s,dispatch:d};return Object(u.jsx)(v.Provider,{value:r,children:t})},x=function(){var e=Object(c.useContext)(v);return Object(l.a)({},e)},_=function(e){var t=e.closeModal,n=x().dispatch,i=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(l.a)(Object(l.a)({},a),{},{values:a,handleChange:function(e){var t=e.target;i(Object(l.a)(Object(l.a)({},a),{},Object(r.a)({},t.name,t.value)))},resetForm:function(){return i(e)}})}({name:"",comments:""}),s=i.name,d=i.comments,m=i.handleChange,p=i.resetForm,O=function(){n({type:a.ADD,payload:{id:Date.now().toString(),name:s,comments:d,step:j[0]}}),t(),p()};return Object(u.jsx)(b,{closeModal:t,children:Object(u.jsxs)("div",{className:"modal__content",children:[Object(u.jsx)("h1",{children:"Nuevo candidato"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s.length>0&&O()},className:"modal__form",action:"",children:[Object(u.jsx)("label",{htmlFor:"name",children:"Nombre:"}),Object(u.jsx)("input",{value:s,onChange:m,type:"text",id:"name",name:"name"}),Object(u.jsx)("label",{htmlFor:"comments",children:"Comentarios:"}),Object(u.jsx)("input",{value:d,onChange:m,type:"text",id:"comments",name:"comments"}),Object(u.jsx)("button",{className:"modal__button",children:"A\xf1adir"})]})]})})},N=(n(17),function(e){var t=e.candidate,n=x().dispatch;return Object(u.jsxs)("div",{className:"candidate",children:[Object(u.jsxs)("div",{className:"candidate__info",children:[Object(u.jsx)("p",{className:"candidate__name",children:t.name}),Object(u.jsx)("p",{className:"candidate__comments",children:t.comments})]}),Object(u.jsxs)("div",{className:"candidate__controls",children:[Object(u.jsx)("button",{onClick:function(){var e,c=j.indexOf(null===t||void 0===t?void 0:t.step),i=null!==(e=j[c-1])&&void 0!==e?e:null===t||void 0===t?void 0:t.step;n({type:a.UPDATE,payload:{id:t.id,nextStep:i}})},className:"candidate__control--back",children:"<"}),Object(u.jsx)("button",{onClick:function(){var e,c=j.indexOf(null===t||void 0===t?void 0:t.step),i=null!==(e=j[c+1])&&void 0!==e?e:null===t||void 0===t?void 0:t.step;n({type:a.UPDATE,payload:{id:t.id,nextStep:i}})},className:"candidate__control--next",children:">"})]})]})}),L=function(e){var t=e.stepCandidates;return Object(u.jsx)(u.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(N,{candidate:e},e.id)}))})},A=(n(18),function(e){var t=e.candidatesList,n=e.step,a=null===t||void 0===t?void 0:t.filter((function(e){return e.step===n}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"candidates",children:a.length>0?Object(u.jsx)(L,{stepCandidates:a}):Object(u.jsx)("p",{className:"candidates__placeholder",children:"No hay candidatos"})})})}),D=(n(19),function(e){var t=e.step,n=e.candidatesList,a=e.openModal;return Object(u.jsxs)("section",{className:"".concat(t," step"),children:[Object(u.jsx)("h1",{className:"step__title",children:t}),Object(u.jsx)(A,{candidatesList:n,step:t}),"Entrevista inicial"===t&&Object(u.jsx)("button",{onClick:a,className:"step__add",children:"A\xf1adir Candidato"})]})}),g=function(e){var t=e.openModal,n=x().candidatesState.candidatesList;return Object(u.jsx)("div",{className:"steps",children:null===j||void 0===j?void 0:j.map((function(e){return Object(u.jsx)(D,{openModal:t,step:e,candidatesList:n},e)}))})},S=function(){return Object(u.jsx)("header",{className:"candidates-app__header",children:Object(u.jsx)("h2",{children:"Gestor de candidatos"})})},y=(n(20),function(){var e=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return{isOpenModal:n,closeModal:function(){a(!1)},openModal:function(){return a(!0)}}}(),t=e.isOpenModal,n=e.openModal,a=e.closeModal;return Object(u.jsxs)("div",{className:"candidates-app",children:[Object(u.jsx)(S,{}),Object(u.jsx)(g,{openModal:n}),t&&Object(u.jsx)(_,{closeModal:a})]})});d.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(f,{children:Object(u.jsx)(y,{})})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.0c45acf3.chunk.js.map