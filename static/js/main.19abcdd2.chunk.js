(this["webpackJsonpsoftvision-challenge-2021"]=this["webpackJsonpsoftvision-challenge-2021"]||[]).push([[0],[,,,,,,,,,,function(e){e.exports=JSON.parse('[{"id":"goncy","name":"Gonzalo Pozzo","step":"Entrevista t\xe9cnica","comments":"Medio pelo"},{"id":"doe","name":"John Doe","step":"Entrevista inicial","comments":""}]')},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,c=n(1),i=n.n(c),s=n(9),d=n.n(s),o=n(3),r=n(6),l=n(2);!function(e){e.ADD="ADD - CANDIDATE",e.UPDATE="UPDATE - CANDIDATE",e.SET_ALL="SET ALL- CANDIDATES"}(a||(a={}));var j=["Entrevista inicial","Entrevista t\xe9cnica","Oferta","Asignaci\xf3n","Rechazo"],u=(n(15),n(0)),b=function(e){var t=e.closeModal,n=e.children;return Object(u.jsx)("div",{id:"container",className:"modal",onClick:t,children:Object(u.jsx)("div",{onClick:function(e){e.stopPropagation()},children:n})})},m=n(10),O={list:function(){return Promise.resolve(m)}},p=n(8),h=function(e,t){switch(t.type){case a.ADD:return Object(l.a)(Object(l.a)({},e),{},{candidatesList:[].concat(Object(p.a)(e.candidatesList),[t.payload])});case a.UPDATE:return Object(l.a)(Object(l.a)({},e),{},{candidatesList:Object(p.a)(e.candidatesList.map((function(e){return e.id===t.payload.id?Object(l.a)(Object(l.a)({},e),{},{step:t.payload.nextStep}):e})))});case a.SET_ALL:return Object(l.a)(Object(l.a)({},e),{},{candidatesList:t.payload});default:return e}},v=Object(c.createContext)({}),x=function(e){var t=e.children,n=Object(c.useReducer)(h,{candidatesList:JSON.parse(window.localStorage.getItem("candidatesList"))||[]}),i=Object(o.a)(n,2),s=i[0],d=i[1];Object(c.useEffect)((function(){O.list().then((function(e){0===s.candidatesList.length&&d({type:a.SET_ALL,payload:e})})),window.localStorage.setItem("candidatesList",JSON.stringify(s.candidatesList))}),[s,d]);var r={candidatesState:s,dispatch:d};return Object(u.jsx)(v.Provider,{value:r,children:t})},f=function(){var e=Object(c.useContext)(v);return Object(l.a)({},e)},_=function(e){var t=e.closeModal,n=Object(c.useState)(""),i=Object(o.a)(n,2),s=i[0],d=i[1],m=Object(c.useState)(!1),O=Object(o.a)(m,2),p=O[0],h=O[1],v=f().dispatch,x=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(l.a)(Object(l.a)({},a),{},{values:a,handleChange:function(e){var t=e.target;i(Object(l.a)(Object(l.a)({},a),{},Object(r.a)({},t.name,t.value)))},resetForm:function(){return i(e)}})}({name:"",comments:""}),_=x.name,g=x.comments,N=x.handleChange,L=x.resetForm,D=function(){v({type:a.ADD,payload:{id:Date.now().toString(),name:_,comments:g,step:j[0]}}),t(),L()};return Object(u.jsx)(b,{closeModal:t,children:Object(u.jsxs)("div",{className:"modal__content",children:[Object(u.jsx)("h1",{children:"Nuevo candidato"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_.length>=3&&g.length<100&&_.length<100?(h(!1),D()):g.length>100&&_.length>100?(h(!0),d("Excediste los caracteres maximos")):(h(!0),d("Debes completar los caracteres minimos"))},className:"modal__form",action:"",children:[Object(u.jsx)("label",{htmlFor:"name",children:"Nombre:"}),Object(u.jsx)("input",{value:_,onChange:N,type:"text",id:"name",name:"name",minLength:3,maxLength:100,required:!0}),Object(u.jsx)("label",{htmlFor:"comments",children:"Comentarios:"}),Object(u.jsx)("input",{value:g,onChange:N,type:"text",id:"comments",name:"comments",maxLength:100}),p&&Object(u.jsx)("span",{style:{color:"red"},children:s}),Object(u.jsx)("button",{className:"modal__button",children:"A\xf1adir"})]})]})})},g=(n(17),function(e){var t=e.candidate,n=f().dispatch;return Object(u.jsxs)("div",{className:"candidate",children:[Object(u.jsxs)("div",{className:"candidate__info",children:[Object(u.jsx)("p",{className:"candidate__name",children:t.name}),Object(u.jsx)("p",{className:"candidate__comments",children:t.comments})]}),Object(u.jsxs)("div",{className:"candidate__controls",children:[Object(u.jsx)("button",{onClick:function(){var e,c=j.indexOf(null===t||void 0===t?void 0:t.step),i=null!==(e=j[c-1])&&void 0!==e?e:null===t||void 0===t?void 0:t.step;n({type:a.UPDATE,payload:{id:t.id,nextStep:i}})},className:"candidate__control--back",children:"<"}),Object(u.jsx)("button",{onClick:function(){var e,c=j.indexOf(null===t||void 0===t?void 0:t.step),i=null!==(e=j[c+1])&&void 0!==e?e:null===t||void 0===t?void 0:t.step;n({type:a.UPDATE,payload:{id:t.id,nextStep:i}})},className:"candidate__control--next",children:">"})]})]})}),N=function(e){var t=e.stepCandidates;return Object(u.jsx)(u.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(g,{candidate:e},e.id)}))})},L=(n(18),function(e){var t=e.candidatesList,n=e.step,a=null===t||void 0===t?void 0:t.filter((function(e){return e.step===n}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"candidates",children:a.length>0?Object(u.jsx)(N,{stepCandidates:a}):Object(u.jsx)("p",{className:"candidates__placeholder",children:"No hay candidatos"})})})}),D=(n(19),function(e){var t=e.step,n=e.candidatesList,a=e.openModal;return Object(u.jsxs)("section",{className:"".concat(t," step"),children:[Object(u.jsx)("h1",{className:"step__title",children:t}),Object(u.jsx)(L,{candidatesList:n,step:t}),"Entrevista inicial"===t&&Object(u.jsx)("button",{onClick:a,className:"step__add",children:"A\xf1adir Candidato"})]})}),A=(n(20),function(e){var t=e.openModal,n=f().candidatesState.candidatesList;return Object(u.jsx)("div",{className:"steps",children:null===j||void 0===j?void 0:j.map((function(e){return Object(u.jsx)(D,{openModal:t,step:e,candidatesList:n},e)}))})}),S=function(){return Object(u.jsx)("header",{className:"candidates-app__header",children:Object(u.jsx)("h2",{children:"Gestor de candidatos"})})},y=(n(21),function(){var e=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return{isOpenModal:n,closeModal:function(){a(!1)},openModal:function(){return a(!0)}}}(),t=e.isOpenModal,n=e.openModal,a=e.closeModal;return Object(u.jsxs)("div",{className:"candidates-app",children:[Object(u.jsx)(S,{}),Object(u.jsx)(A,{openModal:n}),t&&Object(u.jsx)(_,{closeModal:a})]})});d.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(x,{children:Object(u.jsx)(y,{})})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.19abcdd2.chunk.js.map